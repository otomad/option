window.onload=function(){},$(document).ready(function(){$("[data-toggle=\"tooltip\"]").tooltip()}),$("textarea").each(function(){this.setAttribute("style","height:"+this.scrollHeight+"px;overflow-y:hidden;")}).on("input",textarea_resize);function textarea_resize(){$("textarea").each(function(){this.style.height="38px",this.style.height=this.scrollHeight+"px"})}$(".user-help-button").click(function(){$(".user-help-button").addClass("help-keep-on")}),$("#helpModal").on("hide.bs.modal",function(){$("#refList").is(":hidden")||$("#refBar").click(),setTimeout(function(){$(".user-help-button").removeClass("help-keep-on")},500)}),$(".dropdown-item").click(function(){$("#sep").val(this.text),tryChecked(1)}),$("#refBar").click(function(){$("#refList").is(":hidden")?($("#refBar").removeClass("radius-bottom"),$("#expandRef").css("transform","rotate(-180deg)"),$(".primary-mark").addClass("list-group-item-primary").css("color","#1d2f42")):($("#refBar").addClass("radius-bottom"),$("#expandRef").css("transform","rotate(0deg)"),$(".primary-mark").removeClass("list-group-item-primary").css("color","inherit")),$("#refList").slideToggle("fast")}),$("#initialAll").click(function(){$("#initialFirst").prop("checked",!1)}),$("#initialFirst").click(function(){$("#initialAll").prop("checked",!1)});function lisuShow(a){a?$("#lisuBtn").fadeIn("fast"):$("#lisuBtn").fadeOut("fast")}$("[name=\"type\"]").parent().click(function(){1==$(this).index()?$("#initialAll, #initialFirst").prop({disabled:!0,checked:!1}):$("#initialAll, #initialFirst").removeAttr("disabled"),setTimeout("tryChecked(1)",100)}),$("[name=\"mode\"]").parent().click(function(){var a=$(this).index(),b=$("#modeGroup").css("overflow","hidden"),c=b.height(),d=b.css("height","auto").height(),e=1,f="1rem";(1==a||3==a)&&(d=0,e=0,f=".5rem"),b.height(c).animate({height:d},250).css({opacity:e,"margin-bottom":f}),0!=d&&setTimeout(function(){$("#modeGroup").css({overflow:"",height:"auto"})},500),b=$("#ghhszm-msg"),3==a?b.slideDown(500):b.slideUp(500),setTimeout("tryChecked(1)",100)}),$("#d_clip_button").click(function(){$("#resultText").select(),document.execCommand("copy"),showDialog(),$("#d_clip_button").focus(),clipboardReact("\u5DF2\u590D\u5236")});function clipboardReact(a){var b=$("#d_clip_button");b.focus().attr("title",a).tooltip("_fixTitle").tooltip("show"),setTimeout(function(){b.attr("title","\u590D\u5236\u7ED3\u679C").tooltip("_fixTitle").mouseout(function(){b.tooltip("hide")})},500)}function resetText(){$("#rawText").val("").select(),textarea_resize()}function showDialog(){var a=$("#dialog").show();setTimeout(function(){a.css({top:"8px",opacity:1})},1),setTimeout(function(){a.css({top:"-8px",opacity:0}),setTimeout(function(){a.hide()},250)},1500)}$("#dropdown-button").hover(dropdownTooltipShow),$("#dropdown-button").focus(dropdownTooltipShow),$("#dropdown-button").mouseout(dropdownTooltipHide),$("#dropdown-button").blur(dropdownTooltipHide),$("#dropdown-button").click(dropdownTooltipHide),$(".fa-chevron-down").hover(dropdownTooltipShow);function dropdownTooltipShow(){$("#tooltip-for-dropdown").tooltip("show")}function dropdownTooltipHide(){$("#tooltip-for-dropdown").tooltip("hide")}var lisuIsOpen=0;$("#lisuBtn").click(function(){var a=$("#resultText").val();$("#lisuCheck").is(":checked")&&0!=lisuIsOpen?(a=lisuData(0),lisuIsOpen=0,$("#lisuLabel").html("\u8001\u5088\u50F3\u6587").attr("title","\u3000\u5F53\u524D\uFF1A\u5927\u5199\u62C9\u4E01\u5B57\u6BCD<br>\u5355\u51FB\u540E\uFF1A\u8001\u5088\u50F3\u6587\u3000\u3000").tooltip("_fixTitle").tooltip("show")):(a=lisuData(1),lisuIsOpen=1,$("#lisuLabel").html("\u62C9\u4E01\u5B57\u6BCD").attr("title","\u3000\u5F53\u524D\uFF1A\u8001\u5088\u50F3\u6587\u3000\u3000<br>\u5355\u51FB\u540E\uFF1A\u5927\u5199\u62C9\u4E01\u5B57\u6BCD").tooltip("_fixTitle").tooltip("show")),$("#resultText").val(a)});var upperLatin="A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,R,S,T,U,V,W,X,Y,Z",lisuLetter="\uA4EE,\uA4D0,\uA4DA,\uA4D3,\uA4F0,\uA4DD,\uA4D6,\uA4E7,\uA4F2,\uA4D9,\uA4D7,\uA4E1,\uA4DF,\uA4E0,\uA4F3,\uA4D1,\uA4E3,\uA4E2,\uA4D4,\uA4F4,\uA4E6,\uA4EA,\uA4EB,\uA4EC,\uA4DC";function lisuData(a=1){return result=0==a?result.replaces(lisuLetter,upperLatin):result.replaces(upperLatin,lisuLetter),result}var mode=0,type=0;function tryChecked(a){mode=$("[name=\"mode\"]").parent().siblings(".active").index(),type=$("[name=\"type\"]").parent().siblings(".active").index(),$("#initialAll").is(":checked")&&(type+=3),$("#initialFirst").is(":checked")&&(type+=4),1==a&&((2!=mode||1!=type||1!=lisuIsOpen)&&(lisuIsOpen=0,$("#lisuBtn").attr("class","btn btn-outline-secondary btn-sm"),$("#lisuLabel").attr("title","\u3000\u5F53\u524D\uFF1A\u5927\u5199\u62C9\u4E01\u5B57\u6BCD<br>\u5355\u51FB\u540E\uFF1A\u8001\u5088\u50F3\u6587\u3000\u3000").tooltip("_fixTitle"),setTimeout(function(){$("#lisuLabel").html("\u8001\u5088\u50F3\u6587")},250)),$("#include5").html($("[name=\"mode\"]")[mode].dataset.include5.trim().bool()?"5-\u5165\u58F0\uFF1B":""),2==mode&&1==type?lisuShow(1):lisuShow(0),$("#sampleResult").html(converse("xie4'zui4",$("#sep").val())),getResult())}$("#rawText").bind("keyup",function(a){"13"==a.keyCode&&getResult()});function getResult(){tryChecked(0),$("#resultText").val(converse($("#rawText").val(),$("#sep").val())),textarea_resize()}function converse(a,b=" "){return"\uFF08\u7A7A\u683C\uFF09"==b&&(b=" "),"\uFF08\u7559\u7A7A\uFF09"==b&&(b=""),a=preRaw(a),result=sentence(a,b,mode,type),1==lisuIsOpen&&(result=lisuData(1)),result=result.replace(/undefined/g,"")}function italic(){document.getElementById("italicCheck");$("#italicCheck").is(":checked")?($("body").css("font-style","normal"),$("#italicLabel").html("\u5F00\u542F\u659C\u4F53")):($("body").css("font-style","italic"),$("#italicLabel").html("\u6062\u590D\u5E38\u89C4"))}function preRaw(a){a=pinyinUtil.getPinyin(a,"'"),a=backToAsciiPinyin(a);for(var b=0;9>=b;b++)a=a.replace(new RegExp(b,"g"),b+"'");return""!=a&&(a+="'"),a}function backToAsciiPinyin(a){var b=a;b=b.replaces(lisuLetter,upperLatin),b=b.replaces(smallcapitalList,capitalList),b=a.toLowerCase(),b=b.replaces(diacriticalLetter,combiningLetter),b=b.replaces("\u0304,\u0301,\u030C,\u0300,\u0307,\xFC,\xEA,i\u0308","1,2,3,4,5,v,eh,i5");for(var c=["ng","n","m","o","i","u","r"],d=0;d<c.length;d++)for(var e=1;5>=e;e++)b=b.replace(new RegExp(e+c[d],"g"),c[d]+e);for(var f=["a","o","e","i","u"],g=["g","n","m"],h=0;h<g.length;h++)for(var d=0;d<f.length;d++)for(var e=1;5>=e;e++)b=b.replace(new RegExp(g[h]+e+f[d],"g"),e+g[h]+f[d]);return b}String.prototype.replaces=function(c,d,e=","){var f=this.valueOf(),g=c,h=d;if(Array.isArray(c)||(g=c.split(e)),d){Array.isArray(d)||(h=d.split(e));for(var j=0;j<g.length;j++)f=f.replace(new RegExp(g[j],"g"),h[j])}else for(var j=0;j<g.length;j++)f=f.replace(new RegExp(g[j],"g"),"");return f},String.prototype.finds=function(){var a=0,b=arguments;1==arguments.length&&(b=arguments[0].split(","));for(var c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d]==b[c]&&a++;return a},String.prototype.reverse=function(){for(var a="",b=this.length-1;0<=b;b--)a+=this[b];return a},String.prototype.bool=function(){return /^true$/i.test(this)},String.prototype.is=function(){var a=arguments;1==arguments.length&&(a=arguments[0].split(","));for(var b=0;b<a.length;b++)if(this==a[b])return!0;return!1},String.prototype.inTwo=function(b=","){for(var c="",d=this.length-1,e=0;e<d;e++)c+=this[e]+b;return c+=this[d]},Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1},Array.prototype.remove=function(a){var b=this.indexOf(a);-1<b&&this.splice(b,1)},Array.prototype.trim=function(){for(var a=0;a<this.length;a++)""===this[a]&&this.splice(a,1);return this};