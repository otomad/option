"use strict";var society=1;const metricPrefixName=["",,,,"\u4E07",,,,"\u4EBF",,,,"\u5146","\u221E "];function ee(b,c=1){return void 0===b?Math.E:c*Math.pow(10,b)}Math.social=function(a){return Math.trunc(a)},Number.prototype.getPrefix=function(b=!1){function c(a,b){return Math.social(a/ee(b))}for(var d,e=[0,4,8,12,13],f=1;f<e.length;f++)if(0==c(this,e[f])){d=e[f-1];break}return void 0===d&&(d=e[e.length-1]),b?metricPrefixName[d]:d},Number.prototype.getValidValue=function(b=!1){var c=ee(this.getPrefix()),d=Math.social(this/c);return b?d*c:d};const resetMoney=Symbol("resetMoney");class money{constructor(a){this.type=a,this[resetMoney]()}[resetMoney](){null!==getCookie(this.type)&&isFinite(getCookie(this.type)-0)||setCookie(this.type,4e3);var a=getCookie(this.type)-0;1e14<a&&setCookie(this.type,1e14),-1e14>a&&setCookie(this.type,-1e14)}amount(){return this[resetMoney](),getCookie(this.type)-0}amountName(){return money.getAmountName(this.amount())}recharge(a){a-=0;var b,c=this.amount();switch(society){case 1:case 2:if(1e13==c.getValidValue(1)&&-9e12==a.getValidValue(1)){b=9e12;break}13<=c.getPrefix()&&9e12==Math.abs(a.getValidValue(1))&&(a=0<a?1e13:-1e13);var d=c.getPrefix(),e=a.getPrefix();b=d>e?c:d<e?a:c+a,b=b.getValidValue(1);break;default:b=c+a;}return setCookie(this.type,b),$("#amount-num").text(this.amountName()),this.amount()}cost(a){return a>this.amount()?(console.warn("\u4F59\u989D\u4E0D\u8DB3\uFF01"),null):this.recharge(-a)}static getAmountName(a){return`${a.getValidValue()} ${a.getPrefix(1)}å…ƒ`}static amount(type,name=!1){return eval(type+".amount"+(name?"Name":"")+"()")}static recharge(money,type){return eval(type+".recharge("+money+")")}static cost(money,type){return eval(type+".cost("+money+")")}static refreshMoney(a="bill",b="#amount-num"){return $(b).text(money.amount(a,!0))}}var bill=new money("bill");money.refreshMoney();function setCookie(a,b,c=36500){var d=new Date;d.setTime(d.getTime()+1e3*(60*(60*(24*c)))),document.cookie=a+"="+escape(b)+";expires="+d.toGMTString()}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?b[2]:null}function Import(a,b=""){var c=document.createElement("script");c.src=a,c.type=b,document.body.appendChild(c)}