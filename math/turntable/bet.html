<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<title>魔术</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes" />
		<script src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js"></script>
		<script src="js/poker.min.js"></script>
		<style>
			.card-face,
			.card-back {
				position: absolute;
				transform-style: preserve-3d;
			}
			
			.card {
				width: 150px;
				height: 204px;
				transform-origin: center center;
				/* animation: rotate-poker 2s infinite linear; */
				transform-style: preserve-3d;
				transform: rotateY(180deg);
				transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
				cursor: pointer;
			}
			
			.card.uncover {
				transform: rotateY(0deg);
			}
			
			.card-back {
				transform: rotateY(180deg) translateZ(1px);
			}
			
			@keyframes rotate-poker {
				0% {
					transform: rotateY(0deg);
				}
				100% {
					transform: rotateY(360deg);
				}
			}
			
			.card-table {
				position: absolute;
				display: flex;
				width: 100%;
				height: 100%;
				justify-content: space-around;
				align-items: center;
			}
		</style>
	</head>
	<body>
		<div class="card-table">
			<div id="card1" class="card">
				<div class="card-back"></div>
				<div class="card-face"></div>
			</div>
			<div id="card2" class="card">
				<div class="card-back"></div>
				<div class="card-face"></div>
			</div>
			<div id="card3" class="card">
				<div class="card-back"></div>
				<div class="card-face"></div>
			</div>
			<div id="card4" class="card">
				<div class="card-back"></div>
				<div class="card-face"></div>
			</div>
		</div>
		<script type="text/javascript">
			Math.randBetween = (min, max) => { //生成给定两个数之间随机的整数
				return Math.floor(Math.random() * (max - min) + min);
			}
			Poker.randomCard = function(result) {
				const suit = ['hearts', 'diamonds', 'spades', 'clubs'],
					point = ['A', 2, 3, 4, 5, 6, 7, 8, 9, 10, 'J', 'Q', 'K', 'JOKER'];
				if(result=="suit") return suit[Math.randBetween(0,suit.length)];
				else return point[Math.randBetween(0,point.length)];
			}
			for(let i of $(".card-face"))
				$(i).append(Poker.getCardCanvas(200,Poker.randomCard("suit"),Poker.randomCard("point")));
			for(let j of $(".card-back"))
				$(j).append(Poker.getBackCanvas(200));
			$(".card").click(function(){
				$(this).toggleClass("uncover");
			});
		</script>
	</body>
</html>
